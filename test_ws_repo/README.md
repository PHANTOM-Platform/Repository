# TEST OF WEBSOCKETS FROM THE PHANTOM REPOSITORY SERVER

> PHANTOM REPOSITORY server purpose is to store files and their metadata generated by the different stages/phantom-tools (sources) when running the PHANTOM toolset on different projects.

## Introduction

The objective of this folder is to provide an example of suscription to the websockets service of the REPOSITORY server.

The example consists of a java application which suscribes to JSON updates for some project updates, and some type of source updates.

Following the next steps that java application will report on the screen the reception of the notifications.
Such notifications consists of JSON strings updates which are only sent to those who be suscribed.

## Steps

#### 1.- start the servers, in case they are not running yet
```bash
bash start-es.sh;
bash start-appmanager.sh;
```

#### 2.- in case the DB was not created or any user not registered, then run:
```bash
bash ../repo_api_command_line/demo_admin_repo_curl.sh
```

#### 3.- run a client, which will suscribe to some project updates, and some type of source updates.
```bash
bash test_client_ws_suscriber_repository.sh;
```

#### 4.- Perform some updates to the APP-Resource Manager, which will be forwared to the suscribed client
I suggest to run the next strings on a different terminal, or computer, to make it clear what is the feedback to the suscribed client


**TEST WITH JAVA:**

```bash
bash test_repo_update_db.sh;
```

**TEST WITH PYTHON:**


```bash
python test_repo_update_db.py;
```

Demonstration step-by-step video of suscribing with JAVA to notifications to the APP-Manager is available at [Demo WS][Demo WS], which is similar to the use of the example in the folder for the suscription on the Repository.


[Demo WS]: https://www.youtube.com/watch?v=NByRNFJG1tI

 
